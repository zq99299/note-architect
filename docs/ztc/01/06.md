# 生产环境增量与全量脚本迭代

每一次项目更新，不可避免的会对表结构进行增加或则更新之类的操作，一般的方式是使用调整的 SQL 脚本的方式去做更新操作，那么就有两种方式

- 全量脚本：

  不建议使用，因为生产环境下，有已经产生的数据，做全量脚本的话，效率很低下，需要迁移老数据到新的表结构下

- 增量脚本：只执行改变过的表结构或则相关的更新语句

在 PDMan 中就有这两种脚本的生成方式：

![image-20210209200556469](./assets/image-20210209200556469.png)

也提供了一键直接同步的操作，这里不建议直接链接生产库使用该功能，如果执行失败将没有恢复手段。

笔者其实也用过这个工具一段时间，优点就不说了，缺点：

- 字段类型，包括长度不能随意设置，只能实现定义好；这一点仁者见仁，也有可能是优点
- 同步的话，经常性出问题，基本上会处在注释里面，这一块还有 BUG